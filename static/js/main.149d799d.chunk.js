(this.webpackJsonptp_coding_challenge=this.webpackJsonptp_coding_challenge||[]).push([[0],{22:function(e,t,n){e.exports=n(34)},27:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),c=n.n(o),l=(n(27),n(28),n(8)),i=n(1),u=n(15),m=n(16),s=n(17),d=n(21),E=n(20),_=function(e){Object(d.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target;a.setState(Object(u.a)({},t.name,t.value))},a.state={genre:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/BDD-Challenge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,"/read/genre/")).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({genre:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"FILMS"),r.a.createElement("button",{onClick:function(){e.props.history.push("/Films")}},"Voir le contenu"),r.a.createElement("h3",null,"SERIES"),r.a.createElement("button",{onClick:function(){e.props.history.push("/Series")}},"Voir le contenu"))}}]),n}(r.a.Component),h=n(6);var f=function(e){var t=e.onAddSerie,n=Object(a.useState)(""),o=Object(h.a)(n,2),c=o[0],l=o[1],i=Object(a.useState)(""),u=Object(h.a)(i,2),m=u[0],s=u[1],d=Object(a.useState)(""),E=Object(h.a)(d,2),_=E[0],f=E[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c&&m&&_&&(t(c,m,_),l(""),s(""),f(""))}},r.a.createElement("input",{type:"text",placeholder:"Titre de la S\xe9rie",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"URL de l'image",value:m,onChange:function(e){return s(e.target.value)}}),r.a.createElement("input",{type:"number",placeholder:"Ann\xe9e de sortie",value:_,onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Ajouter"))};var S=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/BDD-Challenge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,"/read/genre/series")).then((function(e){return e.json()})).then((function(e){console.log("S\xe9ries re\xe7ues :",e),o(e)})).catch((function(e){return console.error("Erreur fetch s\xe9ries :",e)}))}),[]),r.a.createElement("div",null,r.a.createElement("h2",null,"S\xe9ries"),r.a.createElement("h3",null,"Ajouter une s\xe9rie"),r.a.createElement(f,{onAddSerie:function(e,t,n){fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/BDD-Challenge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,"/read/genre/series"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({titre_media:e,image_media:t,date_sortie_media:n,type_media:"SERIE"})}).then((function(e){return e.json()})).then((function(e){return console.log("S\xe9rie ajout\xe9e :",e),fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/BDD-Challenge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,"/read/genre/series"))})).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return console.error("Erreur ajout s\xe9rie :",e)}))}}),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},n.map((function(e){return r.a.createElement("div",{key:e.id_media,style:{margin:"10px"}},r.a.createElement("img",{src:e.image_media,alt:e.titre_media,width:"150"}),r.a.createElement("h3",null,e.titre_media),r.a.createElement("p",null,e.date_sortie_media))}))))};var O=function(e){var t=e.onAddFilm,n=Object(a.useState)(""),o=Object(h.a)(n,2),c=o[0],l=o[1],i=Object(a.useState)(""),u=Object(h.a)(i,2),m=u[0],s=u[1],d=Object(a.useState)(""),E=Object(h.a)(d,2),_=E[0],f=E[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c&&m&&_&&(t(c,m,_),l(""),s(""),f(""))}},r.a.createElement("input",{type:"text",placeholder:"Titre du film",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"URL de l'image",value:m,onChange:function(e){return s(e.target.value)}}),r.a.createElement("input",{type:"number",placeholder:"Ann\xe9e de sortie",value:_,onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Ajouter"))};var p=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/BDD-Challenge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,"/read/genre/films")).then((function(e){return e.json()})).then((function(e){console.log("Films re\xe7us :",e),o(e)})).catch((function(e){return console.error("Erreur fetch films :",e)}))}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Films"),r.a.createElement("h2",null,"Ajouter un film"),r.a.createElement(O,{onAddFilm:function(e,t,n){fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/BDD-Challenge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,"/read/genre/films"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({titre_media:e,image_media:t,date_sortie_media:n,type_media:"FILM"})}).then((function(e){return e.json()})).then((function(e){return console.log("Film ajout\xe9 :",e),fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/BDD-Challenge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,"/read/genre/films"))})).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return console.error("Erreur ajout film :",e)}))}}),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},n.map((function(e){return r.a.createElement("div",{key:e.id_media,style:{margin:"10px"}},r.a.createElement("img",{src:e.image_media,alt:e.titre_media,width:"150"}),r.a.createElement("h3",null,e.titre_media),r.a.createElement("p",null,e.date_sortie_media))}))))};var v=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",null,r.a.createElement(l.b,{to:"/home"},"Home"))),r.a.createElement("li",null,r.a.createElement("button",null,r.a.createElement(l.b,{to:"/series"},"Les S\xe9ries"))),r.a.createElement("li",null,r.a.createElement("button",null,r.a.createElement(l.b,{to:"/films"},"Les Films"))))};var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(l.a,{basename:"/BDD-Challenge"},r.a.createElement(v,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/BDD-Challenge/home",component:_}),r.a.createElement(i.a,{exact:!0,path:"/BDD-Challenge/series",component:S}),r.a.createElement(i.a,{exact:!0,path:"/BDD-Challenge/films",component:p})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.149d799d.chunk.js.map